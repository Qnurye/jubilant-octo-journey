# CompetitionTutor Environment Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# Database Connections
# =============================================================================

# Milvus (Vector Database)
MILVUS_HOST="localhost"
MILVUS_PORT="19530"
MILVUS_USER=""                    # Optional: for authenticated connections
MILVUS_PASSWORD=""                # Optional: for authenticated connections

# Neo4j (Knowledge Graph)
NEO4J_URI="bolt://localhost:7687"
NEO4J_USER="neo4j"
NEO4J_PASSWORD="password"         # Required: set in docker-compose

# PostgreSQL (Application Data)
POSTGRES_HOST="localhost"
POSTGRES_PORT="5432"
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="password"      # Required: set in docker-compose
POSTGRES_DB="jubilant_db"

# =============================================================================
# LLM Services (Qwen3 Stack)
# =============================================================================

# Main LLM (Qwen3-32B)
LLM_BASE_URL="http://localhost:8000/v1"
LLM_MODEL="Qwen/Qwen3-32B"
LLM_API_KEY=""                    # Optional: for API authentication

# Embedding Service (Qwen3-Embedding-8B)
EMBEDDING_BASE_URL="http://localhost:8001/v1"
EMBEDDING_MODEL="Qwen/Qwen3-Embedding-8B"
EMBEDDING_API_KEY=""              # Optional: for API authentication

# Reranker Service (Qwen3-Reranker-4B)
RERANKER_BASE_URL="http://localhost:8002/v1"
RERANKER_MODEL="Qwen/Qwen3-Reranker-4B"
RERANKER_API_KEY=""               # Optional: for API authentication

# =============================================================================
# RAG Pipeline Configuration
# =============================================================================

# Retrieval settings
RAG_VECTOR_TOP_K="10"             # Number of results from vector search
RAG_GRAPH_MAX_HOPS="2"            # Max depth for graph traversal
RAG_RERANK_TOP_K="5"              # Number of results after reranking

# Confidence thresholds
RAG_CONFIDENCE_THRESHOLD="0.6"    # Below this triggers uncertainty acknowledgment

# Chunking settings
RAG_CHUNK_SIZE="768"              # Target chunk size in tokens (512-1024 range)
RAG_CHUNK_OVERLAP="64"            # Overlap between chunks

# =============================================================================
# Application Settings
# =============================================================================

# Environment
NODE_ENV="development"            # development | production | test

# API Server
API_PORT="8080"
API_HOST="0.0.0.0"

# Web Server
WEB_PORT="3000"

# Concurrency limits
MAX_CONCURRENT_REQUESTS="20"      # Max concurrent RAG queries (classroom scale)
REQUEST_TIMEOUT_MS="30000"        # Request timeout in milliseconds
